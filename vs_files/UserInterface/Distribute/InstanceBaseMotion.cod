; Listing generated by Microsoft (R) Optimizing Compiler Version 18.00.40629.0 

	TITLE	D:\Metin2\Metin2\client_source_clean\client_source_clean\source\UserInterface\InstanceBaseMotion.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB OLDNAMES

EXTRN	?ELTimer_GetServerMSec@@YAKXZ:PROC		; ELTimer_GetServerMSec
EXTRN	?SetFishingPosition@CActorInstance@@QAEXAAUD3DXVECTOR3@@@Z:PROC ; CActorInstance::SetFishingPosition
EXTRN	?PixelPositionToD3DXVECTOR3@@YAXABUD3DXVECTOR3@@PAU1@@Z:PROC ; PixelPositionToD3DXVECTOR3
EXTRN	?isLock@CActorInstance@@QAEHXZ:PROC		; CActorInstance::isLock
EXTRN	?SetEndStopMotion@CGraphicThingInstance@@QAEXXZ:PROC ; CGraphicThingInstance::SetEndStopMotion
EXTRN	?ResetLocalTime@CGraphicThingInstance@@QAEXXZ:PROC ; CGraphicThingInstance::ResetLocalTime
EXTRN	?PushLoopMotion@CActorInstance@@QAE_NKMM@Z:PROC	; CActorInstance::PushLoopMotion
EXTRN	?PushOnceMotion@CActorInstance@@QAE_NKMM@Z:PROC	; CActorInstance::PushOnceMotion
EXTRN	?SetLoopMotion@CActorInstance@@QAEXKMM@Z:PROC	; CActorInstance::SetLoopMotion
_c_fFishingDistance DD 044160000r		; 600
PUBLIC	??$EL_DegreeToRadian@M@@YAMM@Z			; EL_DegreeToRadian<float>
PUBLIC	??$ELPlainCoord_GetRotatedPixelPosition@M@@YAXMMMMPAM0@Z ; ELPlainCoord_GetRotatedPixelPosition<float>
PUBLIC	?ActEmotion@CInstanceBase@@QAEXK@Z		; CInstanceBase::ActEmotion
PUBLIC	?ActDualEmotion@CInstanceBase@@QAEXAAV1@GG@Z	; CInstanceBase::ActDualEmotion
PUBLIC	?__DisableChangingTCPState@CInstanceBase@@IAEXXZ ; CInstanceBase::__DisableChangingTCPState
PUBLIC	?GetFishingRot@CInstanceBase@@QAEHPAH@Z		; CInstanceBase::GetFishingRot
PUBLIC	?CatchFail@CInstanceBase@@QAEXXZ		; CInstanceBase::CatchFail
PUBLIC	?CatchSuccess@CInstanceBase@@QAEXXZ		; CInstanceBase::CatchSuccess
PUBLIC	?ReactFishing@CInstanceBase@@QAEXXZ		; CInstanceBase::ReactFishing
PUBLIC	?StopFishing@CInstanceBase@@QAEXXZ		; CInstanceBase::StopFishing
PUBLIC	?StartFishing@CInstanceBase@@QAEXM@Z		; CInstanceBase::StartFishing
PUBLIC	?isLock@CInstanceBase@@QAEHXZ			; CInstanceBase::isLock
PUBLIC	?PushLoopMotion@CInstanceBase@@QAEXGMM@Z	; CInstanceBase::PushLoopMotion
PUBLIC	?PushOnceMotion@CInstanceBase@@QAEXGMM@Z	; CInstanceBase::PushOnceMotion
PUBLIC	?SetLoopMotion@CInstanceBase@@QAEXGMM@Z		; CInstanceBase::SetLoopMotion
PUBLIC	?SetMotionMode@CInstanceBase@@QAEXH@Z		; CInstanceBase::SetMotionMode
PUBLIC	?__EnableChangingTCPState@CInstanceBase@@IAEXXZ	; CInstanceBase::__EnableChangingTCPState
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?__EnableChangingTCPState@CInstanceBase@@IAEXXZ
_TEXT	SEGMENT
?__EnableChangingTCPState@CInstanceBase@@IAEXXZ PROC	; CInstanceBase::__EnableChangingTCPState, COMDAT
; _this$ = ecx

; 121  : 	m_bEnableTCPState = TRUE;

  00000	c7 81 d0 01 00
	00 01 00 00 00	 mov	 DWORD PTR [ecx+464], 1

; 122  : }

  0000a	c3		 ret	 0
?__EnableChangingTCPState@CInstanceBase@@IAEXXZ ENDP	; CInstanceBase::__EnableChangingTCPState
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?SetMotionMode@CInstanceBase@@QAEXH@Z
_TEXT	SEGMENT
_iMotionMode$ = 8					; size = 4
?SetMotionMode@CInstanceBase@@QAEXH@Z PROC		; CInstanceBase::SetMotionMode, COMDAT
; _this$ = ecx

; 10   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 11   : 	m_GraphicThingInstance.SetMotionMode(iMotionMode);

  00003	81 c1 d4 01 00
	00		 add	 ecx, 468		; 000001d4H

; 12   : }

  00009	5d		 pop	 ebp

; 11   : 	m_GraphicThingInstance.SetMotionMode(iMotionMode);

  0000a	e9 00 00 00 00	 jmp	 ?SetMotionMode@CActorInstance@@QAEXH@Z ; CActorInstance::SetMotionMode
?SetMotionMode@CInstanceBase@@QAEXH@Z ENDP		; CInstanceBase::SetMotionMode
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?SetLoopMotion@CInstanceBase@@QAEXGMM@Z
_TEXT	SEGMENT
_wMotion$ = 8						; size = 2
?SetLoopMotion@CInstanceBase@@QAEXGMM@Z PROC		; CInstanceBase::SetLoopMotion, COMDAT
; _this$ = ecx
; _fBlendTime$ = xmm2s
; _fSpeedRatio$ = xmm3s

; 20   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 21   : 	m_GraphicThingInstance.SetLoopMotion(wMotion, fBlendTime, fSpeedRatio);

  00003	8b 45 08	 mov	 eax, DWORD PTR _wMotion$[ebp]
  00006	83 ec 08	 sub	 esp, 8
  00009	0f b7 c0	 movzx	 eax, ax
  0000c	81 c1 d4 01 00
	00		 add	 ecx, 468		; 000001d4H
  00012	f3 0f 11 5c 24
	04		 movss	 DWORD PTR [esp+4], xmm3
  00018	f3 0f 11 14 24	 movss	 DWORD PTR [esp], xmm2
  0001d	50		 push	 eax
  0001e	e8 00 00 00 00	 call	 ?SetLoopMotion@CActorInstance@@QAEXKMM@Z ; CActorInstance::SetLoopMotion

; 22   : }

  00023	5d		 pop	 ebp
  00024	c2 04 00	 ret	 4
?SetLoopMotion@CInstanceBase@@QAEXGMM@Z ENDP		; CInstanceBase::SetLoopMotion
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?PushOnceMotion@CInstanceBase@@QAEXGMM@Z
_TEXT	SEGMENT
_wMotion$ = 8						; size = 2
?PushOnceMotion@CInstanceBase@@QAEXGMM@Z PROC		; CInstanceBase::PushOnceMotion, COMDAT
; _this$ = ecx
; _fBlendTime$ = xmm2s
; _fSpeedRatio$ = xmm3s

; 25   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 26   : 	m_GraphicThingInstance.PushOnceMotion(wMotion, fBlendTime, fSpeedRatio);

  00003	8b 45 08	 mov	 eax, DWORD PTR _wMotion$[ebp]
  00006	83 ec 08	 sub	 esp, 8
  00009	0f b7 c0	 movzx	 eax, ax
  0000c	81 c1 d4 01 00
	00		 add	 ecx, 468		; 000001d4H
  00012	f3 0f 11 5c 24
	04		 movss	 DWORD PTR [esp+4], xmm3
  00018	f3 0f 11 14 24	 movss	 DWORD PTR [esp], xmm2
  0001d	50		 push	 eax
  0001e	e8 00 00 00 00	 call	 ?PushOnceMotion@CActorInstance@@QAE_NKMM@Z ; CActorInstance::PushOnceMotion

; 27   : }

  00023	5d		 pop	 ebp
  00024	c2 04 00	 ret	 4
?PushOnceMotion@CInstanceBase@@QAEXGMM@Z ENDP		; CInstanceBase::PushOnceMotion
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?PushLoopMotion@CInstanceBase@@QAEXGMM@Z
_TEXT	SEGMENT
_wMotion$ = 8						; size = 2
?PushLoopMotion@CInstanceBase@@QAEXGMM@Z PROC		; CInstanceBase::PushLoopMotion, COMDAT
; _this$ = ecx
; _fBlendTime$ = xmm2s
; _fSpeedRatio$ = xmm3s

; 30   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 31   : 	m_GraphicThingInstance.PushLoopMotion(wMotion, fBlendTime, fSpeedRatio);

  00003	8b 45 08	 mov	 eax, DWORD PTR _wMotion$[ebp]
  00006	83 ec 08	 sub	 esp, 8
  00009	0f b7 c0	 movzx	 eax, ax
  0000c	81 c1 d4 01 00
	00		 add	 ecx, 468		; 000001d4H
  00012	f3 0f 11 5c 24
	04		 movss	 DWORD PTR [esp+4], xmm3
  00018	f3 0f 11 14 24	 movss	 DWORD PTR [esp], xmm2
  0001d	50		 push	 eax
  0001e	e8 00 00 00 00	 call	 ?PushLoopMotion@CActorInstance@@QAE_NKMM@Z ; CActorInstance::PushLoopMotion

; 32   : }

  00023	5d		 pop	 ebp
  00024	c2 04 00	 ret	 4
?PushLoopMotion@CInstanceBase@@QAEXGMM@Z ENDP		; CInstanceBase::PushLoopMotion
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?isLock@CInstanceBase@@QAEHXZ
_TEXT	SEGMENT
?isLock@CInstanceBase@@QAEHXZ PROC			; CInstanceBase::isLock, COMDAT
; _this$ = ecx

; 46   : 	return m_GraphicThingInstance.isLock();

  00000	81 c1 d4 01 00
	00		 add	 ecx, 468		; 000001d4H
  00006	e9 00 00 00 00	 jmp	 ?isLock@CActorInstance@@QAEHXZ ; CActorInstance::isLock
?isLock@CInstanceBase@@QAEHXZ ENDP			; CInstanceBase::isLock
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?StartFishing@CInstanceBase@@QAEXM@Z
_TEXT	SEGMENT
_fRot$ = -32						; size = 4
_v3Fishing$ = -28					; size = 12
_kPPosFishing$ = -16					; size = 12
__$ArrayPad$ = -4					; size = 4
?StartFishing@CInstanceBase@@QAEXM@Z PROC		; CInstanceBase::StartFishing, COMDAT
; _this$ = ecx
; _frot$ = xmm1s

; 50   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 24	 sub	 esp, 36			; 00000024H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 51   : 	BlendRotation(frot);

  00010	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8b f1		 mov	 esi, ecx
  0001d	e8 00 00 00 00	 call	 ?BlendRotation@CInstanceBase@@QAEXMM@Z ; CInstanceBase::BlendRotation

; 52   : 
; 53   : 	const TPixelPosition& c_rkPPosCur=m_GraphicThingInstance.NEW_GetCurPixelPositionRef();

  00022	8d 8e d4 01 00
	00		 lea	 ecx, DWORD PTR [esi+468]
  00028	e8 00 00 00 00	 call	 ?NEW_GetCurPixelPositionRef@CActorInstance@@QAEABUD3DXVECTOR3@@XZ ; CActorInstance::NEW_GetCurPixelPositionRef

; 54   : 	float fRot = m_GraphicThingInstance.GetTargetRotation();

  0002d	8d 8e d4 01 00
	00		 lea	 ecx, DWORD PTR [esi+468]
  00033	8b f8		 mov	 edi, eax
  00035	e8 00 00 00 00	 call	 ?GetTargetRotation@CActorInstance@@QAEMXZ ; CActorInstance::GetTargetRotation

; 55   : 	//float fPlainCoordRot=ELRightCoord_ConvertToPlainCoordDegree(fRightCoordRot);
; 56   : 
; 57   : 	TPixelPosition kPPosFishing;
; 58   : 	ELPlainCoord_GetRotatedPixelPosition(c_rkPPosCur.x, c_rkPPosCur.y, c_fFishingDistance, fRot, &kPPosFishing.x, &kPPosFishing.y);	

  0003a	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@44160000
  00042	8d 55 f4	 lea	 edx, DWORD PTR _kPPosFishing$[ebp+4]
  00045	f3 0f 10 4f 04	 movss	 xmm1, DWORD PTR [edi+4]
  0004a	8d 4d f0	 lea	 ecx, DWORD PTR _kPPosFishing$[ebp]
  0004d	f3 0f 10 07	 movss	 xmm0, DWORD PTR [edi]
  00051	d9 5d e0	 fstp	 DWORD PTR _fRot$[ebp]
  00054	f3 0f 10 5d e0	 movss	 xmm3, DWORD PTR _fRot$[ebp]
  00059	e8 00 00 00 00	 call	 ??$ELPlainCoord_GetRotatedPixelPosition@M@@YAXMMMMPAM0@Z ; ELPlainCoord_GetRotatedPixelPosition<float>

; 59   : 	if (!__Background_GetWaterHeight(kPPosFishing, &kPPosFishing.z))

  0005e	8d 45 f8	 lea	 eax, DWORD PTR _kPPosFishing$[ebp+8]
  00061	50		 push	 eax
  00062	8d 45 f0	 lea	 eax, DWORD PTR _kPPosFishing$[ebp]
  00065	50		 push	 eax
  00066	e8 00 00 00 00	 call	 ?__Background_GetWaterHeight@CInstanceBase@@QAE_NABUD3DXVECTOR3@@PAM@Z ; CInstanceBase::__Background_GetWaterHeight
  0006b	84 c0		 test	 al, al
  0006d	75 0a		 jne	 SHORT $LN1@StartFishi

; 60   : 		kPPosFishing.z=c_rkPPosCur.z;

  0006f	f3 0f 10 47 08	 movss	 xmm0, DWORD PTR [edi+8]
  00074	f3 0f 11 45 f8	 movss	 DWORD PTR _kPPosFishing$[ebp+8], xmm0
$LN1@StartFishi:

; 61   : 	
; 62   : 	D3DXVECTOR3 v3Fishing;
; 63   : 	PixelPositionToD3DXVECTOR3(kPPosFishing, &v3Fishing);

  00079	8d 45 e4	 lea	 eax, DWORD PTR _v3Fishing$[ebp]
  0007c	50		 push	 eax
  0007d	8d 45 f0	 lea	 eax, DWORD PTR _kPPosFishing$[ebp]
  00080	50		 push	 eax
  00081	e8 00 00 00 00	 call	 ?PixelPositionToD3DXVECTOR3@@YAXABUD3DXVECTOR3@@PAU1@@Z ; PixelPositionToD3DXVECTOR3
  00086	83 c4 08	 add	 esp, 8

; 64   : 	m_GraphicThingInstance.SetFishingPosition(v3Fishing);

  00089	8d 45 e4	 lea	 eax, DWORD PTR _v3Fishing$[ebp]
  0008c	8d 8e d4 01 00
	00		 lea	 ecx, DWORD PTR [esi+468]
  00092	50		 push	 eax
  00093	e8 00 00 00 00	 call	 ?SetFishingPosition@CActorInstance@@QAEXAAUD3DXVECTOR3@@@Z ; CActorInstance::SetFishingPosition

; 65   : 
; 66   : 	PushOnceMotion(CRaceMotionData::NAME_FISHING_THROW);

  00098	f3 0f 10 1d 00
	00 00 00	 movss	 xmm3, DWORD PTR __real@3f800000
  000a0	8b ce		 mov	 ecx, esi
  000a2	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd
  000aa	6a 1a		 push	 26			; 0000001aH
  000ac	e8 00 00 00 00	 call	 ?PushOnceMotion@CInstanceBase@@QAEXGMM@Z ; CInstanceBase::PushOnceMotion

; 67   : 	PushLoopMotion(CRaceMotionData::NAME_FISHING_WAIT);

  000b1	f3 0f 10 1d 00
	00 00 00	 movss	 xmm3, DWORD PTR __real@3f800000
  000b9	8b ce		 mov	 ecx, esi
  000bb	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd
  000c3	6a 1b		 push	 27			; 0000001bH
  000c5	e8 00 00 00 00	 call	 ?PushLoopMotion@CInstanceBase@@QAEXGMM@Z ; CInstanceBase::PushLoopMotion

; 68   : }

  000ca	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000cd	5f		 pop	 edi
  000ce	5e		 pop	 esi
  000cf	33 cd		 xor	 ecx, ebp
  000d1	5b		 pop	 ebx
  000d2	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000d7	8b e5		 mov	 esp, ebp
  000d9	5d		 pop	 ebp
  000da	c3		 ret	 0
?StartFishing@CInstanceBase@@QAEXM@Z ENDP		; CInstanceBase::StartFishing
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?StopFishing@CInstanceBase@@QAEXXZ
_TEXT	SEGMENT
?StopFishing@CInstanceBase@@QAEXXZ PROC			; CInstanceBase::StopFishing, COMDAT
; _this$ = ecx

; 70   : {

  00000	56		 push	 esi

; 71   : 	m_GraphicThingInstance.InterceptOnceMotion(CRaceMotionData::NAME_FISHING_STOP);

  00001	51		 push	 ecx
  00002	c7 04 24 00 00
	80 3f		 mov	 DWORD PTR [esp], 1065353216 ; 3f800000H
  00009	8b f1		 mov	 esi, ecx
  0000b	6a 00		 push	 0
  0000d	51		 push	 ecx
  0000e	c7 04 24 cd cc
	cc 3d		 mov	 DWORD PTR [esp], 1036831949 ; 3dcccccdH
  00015	6a 1c		 push	 28			; 0000001cH
  00017	8d 8e d4 01 00
	00		 lea	 ecx, DWORD PTR [esi+468]
  0001d	e8 00 00 00 00	 call	 ?InterceptOnceMotion@CActorInstance@@QAE_NKMIM@Z ; CActorInstance::InterceptOnceMotion

; 72   : 	PushLoopMotion(CRaceMotionData::NAME_WAIT);

  00022	f3 0f 10 1d 00
	00 00 00	 movss	 xmm3, DWORD PTR __real@3f800000
  0002a	8b ce		 mov	 ecx, esi
  0002c	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd
  00034	6a 01		 push	 1
  00036	e8 00 00 00 00	 call	 ?PushLoopMotion@CInstanceBase@@QAEXGMM@Z ; CInstanceBase::PushLoopMotion
  0003b	5e		 pop	 esi

; 73   : }

  0003c	c3		 ret	 0
?StopFishing@CInstanceBase@@QAEXXZ ENDP			; CInstanceBase::StopFishing
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?ReactFishing@CInstanceBase@@QAEXXZ
_TEXT	SEGMENT
?ReactFishing@CInstanceBase@@QAEXXZ PROC		; CInstanceBase::ReactFishing, COMDAT
; _this$ = ecx

; 76   : 	PushOnceMotion(CRaceMotionData::NAME_FISHING_REACT);

  00000	f3 0f 10 1d 00
	00 00 00	 movss	 xmm3, DWORD PTR __real@3f800000
  00008	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd
  00010	56		 push	 esi
  00011	6a 1d		 push	 29			; 0000001dH
  00013	8b f1		 mov	 esi, ecx
  00015	e8 00 00 00 00	 call	 ?PushOnceMotion@CInstanceBase@@QAEXGMM@Z ; CInstanceBase::PushOnceMotion

; 77   : 	PushLoopMotion(CRaceMotionData::NAME_FISHING_WAIT);

  0001a	f3 0f 10 1d 00
	00 00 00	 movss	 xmm3, DWORD PTR __real@3f800000
  00022	8b ce		 mov	 ecx, esi
  00024	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd
  0002c	6a 1b		 push	 27			; 0000001bH
  0002e	e8 00 00 00 00	 call	 ?PushLoopMotion@CInstanceBase@@QAEXGMM@Z ; CInstanceBase::PushLoopMotion
  00033	5e		 pop	 esi

; 78   : }

  00034	c3		 ret	 0
?ReactFishing@CInstanceBase@@QAEXXZ ENDP		; CInstanceBase::ReactFishing
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?CatchSuccess@CInstanceBase@@QAEXXZ
_TEXT	SEGMENT
?CatchSuccess@CInstanceBase@@QAEXXZ PROC		; CInstanceBase::CatchSuccess, COMDAT
; _this$ = ecx

; 80   : {

  00000	56		 push	 esi

; 81   : 	m_GraphicThingInstance.InterceptOnceMotion(CRaceMotionData::NAME_FISHING_CATCH);

  00001	51		 push	 ecx
  00002	c7 04 24 00 00
	80 3f		 mov	 DWORD PTR [esp], 1065353216 ; 3f800000H
  00009	8b f1		 mov	 esi, ecx
  0000b	6a 00		 push	 0
  0000d	51		 push	 ecx
  0000e	c7 04 24 cd cc
	cc 3d		 mov	 DWORD PTR [esp], 1036831949 ; 3dcccccdH
  00015	6a 1e		 push	 30			; 0000001eH
  00017	8d 8e d4 01 00
	00		 lea	 ecx, DWORD PTR [esi+468]
  0001d	e8 00 00 00 00	 call	 ?InterceptOnceMotion@CActorInstance@@QAE_NKMIM@Z ; CActorInstance::InterceptOnceMotion

; 82   : 	PushLoopMotion(CRaceMotionData::NAME_WAIT);

  00022	f3 0f 10 1d 00
	00 00 00	 movss	 xmm3, DWORD PTR __real@3f800000
  0002a	8b ce		 mov	 ecx, esi
  0002c	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd
  00034	6a 01		 push	 1
  00036	e8 00 00 00 00	 call	 ?PushLoopMotion@CInstanceBase@@QAEXGMM@Z ; CInstanceBase::PushLoopMotion
  0003b	5e		 pop	 esi

; 83   : }

  0003c	c3		 ret	 0
?CatchSuccess@CInstanceBase@@QAEXXZ ENDP		; CInstanceBase::CatchSuccess
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?CatchFail@CInstanceBase@@QAEXXZ
_TEXT	SEGMENT
?CatchFail@CInstanceBase@@QAEXXZ PROC			; CInstanceBase::CatchFail, COMDAT
; _this$ = ecx

; 85   : {

  00000	56		 push	 esi

; 86   : 	m_GraphicThingInstance.InterceptOnceMotion(CRaceMotionData::NAME_FISHING_FAIL);

  00001	51		 push	 ecx
  00002	c7 04 24 00 00
	80 3f		 mov	 DWORD PTR [esp], 1065353216 ; 3f800000H
  00009	8b f1		 mov	 esi, ecx
  0000b	6a 00		 push	 0
  0000d	51		 push	 ecx
  0000e	c7 04 24 cd cc
	cc 3d		 mov	 DWORD PTR [esp], 1036831949 ; 3dcccccdH
  00015	6a 1f		 push	 31			; 0000001fH
  00017	8d 8e d4 01 00
	00		 lea	 ecx, DWORD PTR [esi+468]
  0001d	e8 00 00 00 00	 call	 ?InterceptOnceMotion@CActorInstance@@QAE_NKMIM@Z ; CActorInstance::InterceptOnceMotion

; 87   : 	PushLoopMotion(CRaceMotionData::NAME_WAIT);

  00022	f3 0f 10 1d 00
	00 00 00	 movss	 xmm3, DWORD PTR __real@3f800000
  0002a	8b ce		 mov	 ecx, esi
  0002c	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd
  00034	6a 01		 push	 1
  00036	e8 00 00 00 00	 call	 ?PushLoopMotion@CInstanceBase@@QAEXGMM@Z ; CInstanceBase::PushLoopMotion
  0003b	5e		 pop	 esi

; 88   : }

  0003c	c3		 ret	 0
?CatchFail@CInstanceBase@@QAEXXZ ENDP			; CInstanceBase::CatchFail
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?GetFishingRot@CInstanceBase@@QAEHPAH@Z
_TEXT	SEGMENT
_fRot$1$ = -32						; size = 4
_fCharacterRot$ = -28					; size = 4
_kPPosFishingRight$1 = -24				; size = 12
_kPPosFishingLeft$2 = -12				; size = 12
_pirot$ = 8						; size = 4
?GetFishingRot@CInstanceBase@@QAEHPAH@Z PROC		; CInstanceBase::GetFishingRot, COMDAT
; _this$ = ecx

; 91   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 e4 f8	 and	 esp, -8			; fffffff8H
  00006	83 ec 20	 sub	 esp, 32			; 00000020H
  00009	56		 push	 esi

; 92   : 	const TPixelPosition& c_rkPPosCur=m_GraphicThingInstance.NEW_GetCurPixelPositionRef();

  0000a	8d b1 d4 01 00
	00		 lea	 esi, DWORD PTR [ecx+468]
  00010	57		 push	 edi
  00011	8b ce		 mov	 ecx, esi
  00013	e8 00 00 00 00	 call	 ?NEW_GetCurPixelPositionRef@CActorInstance@@QAEABUD3DXVECTOR3@@XZ ; CActorInstance::NEW_GetCurPixelPositionRef

; 93   : 	float fCharacterRot = m_GraphicThingInstance.GetRotation();

  00018	8b ce		 mov	 ecx, esi
  0001a	8b f8		 mov	 edi, eax
  0001c	e8 00 00 00 00	 call	 ?GetRotation@CActorInstance@@QAEMXZ ; CActorInstance::GetRotation
  00021	d9 5c 24 0c	 fstp	 DWORD PTR _fCharacterRot$[esp+40]

; 94   : 
; 95   : 	//float frot = fCharacterRot;
; 96   : 
; 97   : 	for (float fRot=0.0f; fRot<=180.0f; fRot+=10.0f)

  00025	f3 0f 10 4c 24
	0c		 movss	 xmm1, DWORD PTR _fCharacterRot$[esp+40]
  0002b	0f 57 c0	 xorps	 xmm0, xmm0
  0002e	f3 0f 11 44 24
	08		 movss	 DWORD PTR _fRot$1$[esp+40], xmm0
  00034	eb 0a 8d a4 24
	00 00 00 00 8d
	49 00		 npad	 12
$LL5@GetFishing:

; 98   : 	{
; 99   : 		TPixelPosition kPPosFishingRight;
; 100  : 		ELPlainCoord_GetRotatedPixelPosition(c_rkPPosCur.x, c_rkPPosCur.y, c_fFishingDistance, fCharacterRot+fRot, &kPPosFishingRight.x, &kPPosFishingRight.y);

  00040	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@44160000
  00048	8d 54 24 14	 lea	 edx, DWORD PTR _kPPosFishingRight$1[esp+44]
  0004c	0f 28 d8	 movaps	 xmm3, xmm0
  0004f	8d 4c 24 10	 lea	 ecx, DWORD PTR _kPPosFishingRight$1[esp+40]
  00053	f3 0f 10 07	 movss	 xmm0, DWORD PTR [edi]
  00057	f3 0f 58 d9	 addss	 xmm3, xmm1
  0005b	f3 0f 10 4f 04	 movss	 xmm1, DWORD PTR [edi+4]
  00060	e8 00 00 00 00	 call	 ??$ELPlainCoord_GetRotatedPixelPosition@M@@YAXMMMMPAM0@Z ; ELPlainCoord_GetRotatedPixelPosition<float>

; 101  : 		if (__Background_IsWaterPixelPosition(kPPosFishingRight))

  00065	8d 44 24 10	 lea	 eax, DWORD PTR _kPPosFishingRight$1[esp+40]
  00069	50		 push	 eax
  0006a	e8 00 00 00 00	 call	 ?__Background_IsWaterPixelPosition@CInstanceBase@@QAE_NABUD3DXVECTOR3@@@Z ; CInstanceBase::__Background_IsWaterPixelPosition
  0006f	84 c0		 test	 al, al
  00071	75 7b		 jne	 SHORT $LN13@GetFishing

; 104  : 			return TRUE;
; 105  : 		}
; 106  : 
; 107  : 		TPixelPosition kPPosFishingLeft;
; 108  : 		ELPlainCoord_GetRotatedPixelPosition(c_rkPPosCur.x, c_rkPPosCur.y, c_fFishingDistance, fCharacterRot-fRot, &kPPosFishingLeft.x, &kPPosFishingLeft.y);	

  00073	f3 0f 10 5c 24
	0c		 movss	 xmm3, DWORD PTR _fCharacterRot$[esp+40]
  00079	8d 54 24 20	 lea	 edx, DWORD PTR _kPPosFishingLeft$2[esp+44]
  0007d	f3 0f 5c 5c 24
	08		 subss	 xmm3, DWORD PTR _fRot$1$[esp+40]
  00083	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@44160000
  0008b	8d 4c 24 1c	 lea	 ecx, DWORD PTR _kPPosFishingLeft$2[esp+40]
  0008f	f3 0f 10 4f 04	 movss	 xmm1, DWORD PTR [edi+4]
  00094	f3 0f 10 07	 movss	 xmm0, DWORD PTR [edi]
  00098	e8 00 00 00 00	 call	 ??$ELPlainCoord_GetRotatedPixelPosition@M@@YAXMMMMPAM0@Z ; ELPlainCoord_GetRotatedPixelPosition<float>

; 109  : 		if (__Background_IsWaterPixelPosition(kPPosFishingLeft))

  0009d	8d 44 24 1c	 lea	 eax, DWORD PTR _kPPosFishingLeft$2[esp+40]
  000a1	50		 push	 eax
  000a2	e8 00 00 00 00	 call	 ?__Background_IsWaterPixelPosition@CInstanceBase@@QAE_NABUD3DXVECTOR3@@@Z ; CInstanceBase::__Background_IsWaterPixelPosition
  000a7	84 c0		 test	 al, al
  000a9	75 35		 jne	 SHORT $LN14@GetFishing

; 94   : 
; 95   : 	//float frot = fCharacterRot;
; 96   : 
; 97   : 	for (float fRot=0.0f; fRot<=180.0f; fRot+=10.0f)

  000ab	f3 0f 10 44 24
	08		 movss	 xmm0, DWORD PTR _fRot$1$[esp+40]
  000b1	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41200000
  000b9	f3 0f 10 0d 00
	00 00 00	 movss	 xmm1, DWORD PTR __real@43340000
  000c1	0f 2f c8	 comiss	 xmm1, xmm0
  000c4	f3 0f 10 4c 24
	0c		 movss	 xmm1, DWORD PTR _fCharacterRot$[esp+40]
  000ca	f3 0f 11 44 24
	08		 movss	 DWORD PTR _fRot$1$[esp+40], xmm0
  000d0	0f 83 6a ff ff
	ff		 jae	 $LL5@GetFishing

; 113  : 		}
; 114  : 	}
; 115  : 
; 116  : 	return FALSE;

  000d6	33 c0		 xor	 eax, eax

; 117  : }

  000d8	5f		 pop	 edi
  000d9	5e		 pop	 esi
  000da	8b e5		 mov	 esp, ebp
  000dc	5d		 pop	 ebp
  000dd	c2 04 00	 ret	 4
$LN14@GetFishing:

; 110  : 		{
; 111  : 			*pirot = fCharacterRot-fRot;

  000e0	f3 0f 10 44 24
	0c		 movss	 xmm0, DWORD PTR _fCharacterRot$[esp+40]
  000e6	f3 0f 5c 44 24
	08		 subss	 xmm0, DWORD PTR _fRot$1$[esp+40]

; 112  : 			return TRUE;

  000ec	eb 0c		 jmp	 SHORT $LN18@GetFishing
$LN13@GetFishing:

; 102  : 		{
; 103  : 			*pirot = fCharacterRot+fRot;

  000ee	f3 0f 10 44 24
	08		 movss	 xmm0, DWORD PTR _fRot$1$[esp+40]
  000f4	f3 0f 58 44 24
	0c		 addss	 xmm0, DWORD PTR _fCharacterRot$[esp+40]
$LN18@GetFishing:
  000fa	8b 45 08	 mov	 eax, DWORD PTR _pirot$[ebp]
  000fd	f3 0f 2c c8	 cvttss2si ecx, xmm0

; 117  : }

  00101	5f		 pop	 edi
  00102	5e		 pop	 esi
  00103	89 08		 mov	 DWORD PTR [eax], ecx
  00105	b8 01 00 00 00	 mov	 eax, 1
  0010a	8b e5		 mov	 esp, ebp
  0010c	5d		 pop	 ebp
  0010d	c2 04 00	 ret	 4
?GetFishingRot@CInstanceBase@@QAEHPAH@Z ENDP		; CInstanceBase::GetFishingRot
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?__DisableChangingTCPState@CInstanceBase@@IAEXXZ
_TEXT	SEGMENT
?__DisableChangingTCPState@CInstanceBase@@IAEXXZ PROC	; CInstanceBase::__DisableChangingTCPState, COMDAT
; _this$ = ecx

; 126  : 	m_bEnableTCPState = FALSE;

  00000	c7 81 d0 01 00
	00 00 00 00 00	 mov	 DWORD PTR [ecx+464], 0

; 127  : }

  0000a	c3		 ret	 0
?__DisableChangingTCPState@CInstanceBase@@IAEXXZ ENDP	; CInstanceBase::__DisableChangingTCPState
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
; File d:\metin2\metin2\client_source_clean\client_source_clean\extern\include\d3dx8math.inl
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
; File d:\metin2\metin2\client_source_clean\client_source_clean\extern\include\d3dx8math.inl
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
; File d:\metin2\metin2\client_source_clean\client_source_clean\extern\include\d3dx8math.inl
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
; File d:\metin2\metin2\client_source_clean\client_source_clean\extern\include\d3dx8math.inl
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
; File c:\program files (x86)\microsoft visual studio 12.0\vc\include\math.h
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
; File c:\program files (x86)\microsoft visual studio 12.0\vc\include\math.h
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?ActDualEmotion@CInstanceBase@@QAEXAAV1@GG@Z
_TEXT	SEGMENT
_kDirection$1$ = -24					; size = 4
_kDirection$2$ = -20					; size = 4
_this$1$ = -16						; size = 4
_kDstPosition$ = -12					; size = 12
_rkDstInst$ = 8						; size = 4
_wMotionNumber1$ = 12					; size = 2
_wMotionNumber2$ = 16					; size = 2
?ActDualEmotion@CInstanceBase@@QAEXAAV1@GG@Z PROC	; CInstanceBase::ActDualEmotion, COMDAT
; _this$ = ecx

; 130  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 e4 f8	 and	 esp, -8			; fffffff8H
  00006	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	8b f1		 mov	 esi, ecx
  0000d	57		 push	 edi
  0000e	89 74 24 18	 mov	 DWORD PTR _this$1$[esp+40], esi

; 131  : 	if (!IsWaiting())

  00012	e8 00 00 00 00	 call	 ?IsWaiting@CInstanceBase@@QAEHXZ ; CInstanceBase::IsWaiting
  00017	85 c0		 test	 eax, eax
  00019	75 1f		 jne	 SHORT $LN4@ActDualEmo

; 132  : 	{
; 133  : 		m_GraphicThingInstance.SetLoopMotion(CRaceMotionData::NAME_WAIT, 0.05f);

  0001b	83 ec 08	 sub	 esp, 8
  0001e	8d 8e d4 01 00
	00		 lea	 ecx, DWORD PTR [esi+468]
  00024	c7 44 24 04 00
	00 80 3f	 mov	 DWORD PTR [esp+4], 1065353216 ; 3f800000H
  0002c	c7 04 24 cd cc
	4c 3d		 mov	 DWORD PTR [esp], 1028443341 ; 3d4ccccdH
  00033	6a 01		 push	 1
  00035	e8 00 00 00 00	 call	 ?SetLoopMotion@CActorInstance@@QAEXKMM@Z ; CActorInstance::SetLoopMotion
$LN4@ActDualEmo:

; 134  : 	}
; 135  : 	if (!rkDstInst.IsWaiting())

  0003a	8b 5d 08	 mov	 ebx, DWORD PTR _rkDstInst$[ebp]
  0003d	8b cb		 mov	 ecx, ebx
  0003f	e8 00 00 00 00	 call	 ?IsWaiting@CInstanceBase@@QAEHXZ ; CInstanceBase::IsWaiting
  00044	85 c0		 test	 eax, eax
  00046	75 1f		 jne	 SHORT $LN3@ActDualEmo

; 136  : 	{
; 137  : 		rkDstInst.m_GraphicThingInstance.SetLoopMotion(CRaceMotionData::NAME_WAIT, 0.05f);

  00048	83 ec 08	 sub	 esp, 8
  0004b	8d 8b d4 01 00
	00		 lea	 ecx, DWORD PTR [ebx+468]
  00051	c7 44 24 04 00
	00 80 3f	 mov	 DWORD PTR [esp+4], 1065353216 ; 3f800000H
  00059	c7 04 24 cd cc
	4c 3d		 mov	 DWORD PTR [esp], 1028443341 ; 3d4ccccdH
  00060	6a 01		 push	 1
  00062	e8 00 00 00 00	 call	 ?SetLoopMotion@CActorInstance@@QAEXKMM@Z ; CActorInstance::SetLoopMotion
$LN3@ActDualEmo:

; 138  : 	}
; 139  : 
; 140  : 	const float c_fEmotionDistance = 100.0f;
; 141  : 	const TPixelPosition & c_rMainPosition = NEW_GetCurPixelPositionRef();

  00067	8b ce		 mov	 ecx, esi
  00069	e8 00 00 00 00	 call	 ?NEW_GetCurPixelPositionRef@CInstanceBase@@IAEABUD3DXVECTOR3@@XZ ; CInstanceBase::NEW_GetCurPixelPositionRef

; 142  : 	const TPixelPosition & c_rTargetPosition = rkDstInst.NEW_GetCurPixelPositionRef();

  0006e	8b cb		 mov	 ecx, ebx
  00070	8b f8		 mov	 edi, eax
  00072	e8 00 00 00 00	 call	 ?NEW_GetCurPixelPositionRef@CInstanceBase@@IAEABUD3DXVECTOR3@@XZ ; CInstanceBase::NEW_GetCurPixelPositionRef
; File d:\metin2\metin2\client_source_clean\client_source_clean\extern\include\d3dx8math.inl

; 263  :     return D3DXVECTOR3(x - v.x, y - v.y, z - v.z);

  00077	f3 0f 10 47 04	 movss	 xmm0, DWORD PTR [edi+4]
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp

; 142  : 	const TPixelPosition & c_rTargetPosition = rkDstInst.NEW_GetCurPixelPositionRef();

  0007c	8b f0		 mov	 esi, eax
; File d:\metin2\metin2\client_source_clean\client_source_clean\extern\include\d3dx8math.inl

; 263  :     return D3DXVECTOR3(x - v.x, y - v.y, z - v.z);

  0007e	f3 0f 10 17	 movss	 xmm2, DWORD PTR [edi]
  00082	f3 0f 5c 46 04	 subss	 xmm0, DWORD PTR [esi+4]
  00087	f3 0f 5c 16	 subss	 xmm2, DWORD PTR [esi]
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp

; 144  : 	float fDistance = sqrtf((kDirection.x*kDirection.x) + (kDirection.y*kDirection.y));

  0008b	0f 28 c8	 movaps	 xmm1, xmm0
; File d:\metin2\metin2\client_source_clean\client_source_clean\extern\include\d3dx8math.inl

; 263  :     return D3DXVECTOR3(x - v.x, y - v.y, z - v.z);

  0008e	f3 0f 11 44 24
	14		 movss	 DWORD PTR _kDirection$2$[esp+40], xmm0
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp

; 144  : 	float fDistance = sqrtf((kDirection.x*kDirection.x) + (kDirection.y*kDirection.y));

  00094	f3 0f 59 c8	 mulss	 xmm1, xmm0
  00098	0f 28 c2	 movaps	 xmm0, xmm2
  0009b	f3 0f 59 c2	 mulss	 xmm0, xmm2
; File d:\metin2\metin2\client_source_clean\client_source_clean\extern\include\d3dx8math.inl

; 263  :     return D3DXVECTOR3(x - v.x, y - v.y, z - v.z);

  0009f	f3 0f 11 54 24
	10		 movss	 DWORD PTR _kDirection$1$[esp+40], xmm2
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp

; 144  : 	float fDistance = sqrtf((kDirection.x*kDirection.x) + (kDirection.y*kDirection.y));

  000a5	f3 0f 58 c8	 addss	 xmm1, xmm0
  000a9	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\program files (x86)\microsoft visual studio 12.0\vc\include\math.h

; 775  :     return (float)sqrt(_X);

  000ac	f3 0f 5a c1	 cvtss2sd xmm0, xmm1
  000b0	e8 00 00 00 00	 call	 __libm_sse2_sqrt_precise
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp

; 146  : 	kDstPosition.x = c_rTargetPosition.x + (kDirection.x/fDistance)*c_fEmotionDistance;

  000b5	f3 0f 10 54 24
	10		 movss	 xmm2, DWORD PTR _kDirection$1$[esp+40]
  000bb	0f 57 c9	 xorps	 xmm1, xmm1
; File c:\program files (x86)\microsoft visual studio 12.0\vc\include\math.h

; 775  :     return (float)sqrt(_X);

  000be	f2 0f 5a c8	 cvtsd2ss xmm1, xmm0
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp

; 146  : 	kDstPosition.x = c_rTargetPosition.x + (kDirection.x/fDistance)*c_fEmotionDistance;

  000c2	f3 0f 5e d1	 divss	 xmm2, xmm1
  000c6	f3 0f 59 15 00
	00 00 00	 mulss	 xmm2, DWORD PTR __real@42c80000
  000ce	f3 0f 58 16	 addss	 xmm2, DWORD PTR [esi]
  000d2	f3 0f 11 54 24
	1c		 movss	 DWORD PTR _kDstPosition$[esp+40], xmm2

; 147  : 	kDstPosition.y = c_rTargetPosition.y + (kDirection.y/fDistance)*c_fEmotionDistance;

  000d8	f3 0f 10 54 24
	14		 movss	 xmm2, DWORD PTR _kDirection$2$[esp+40]
  000de	f3 0f 5e d1	 divss	 xmm2, xmm1
  000e2	f3 0f 59 15 00
	00 00 00	 mulss	 xmm2, DWORD PTR __real@42c80000
  000ea	f3 0f 58 56 04	 addss	 xmm2, DWORD PTR [esi+4]
  000ef	f3 0f 11 54 24
	20		 movss	 DWORD PTR _kDstPosition$[esp+44], xmm2

; 148  : 
; 149  : 	DWORD dwCurTime = ELTimer_GetServerMSec() + 500;

  000f5	e8 00 00 00 00	 call	 ?ELTimer_GetServerMSec@@YAKXZ ; ELTimer_GetServerMSec

; 150  : 	PushTCPStateExpanded(dwCurTime, kDstPosition, 0.0f, FUNC_EMOTION, MAKELONG(wMotionNumber1, wMotionNumber2), rkDstInst.GetVirtualID());

  000fa	8b cb		 mov	 ecx, ebx
  000fc	8d b0 f4 01 00
	00		 lea	 esi, DWORD PTR [eax+500]
  00102	e8 00 00 00 00	 call	 ?GetVirtualID@CInstanceBase@@QAEKXZ ; CInstanceBase::GetVirtualID
  00107	8b 4d 10	 mov	 ecx, DWORD PTR _wMotionNumber2$[ebp]
  0010a	0f 57 db	 xorps	 xmm3, xmm3
  0010d	50		 push	 eax
  0010e	0f b7 d1	 movzx	 edx, cx
  00111	8b 4d 0c	 mov	 ecx, DWORD PTR _wMotionNumber1$[ebp]
  00114	0f b7 c1	 movzx	 eax, cx
  00117	c1 e2 10	 shl	 edx, 16			; 00000010H
  0011a	0b d0		 or	 edx, eax
  0011c	8d 44 24 20	 lea	 eax, DWORD PTR _kDstPosition$[esp+44]
  00120	52		 push	 edx
  00121	51		 push	 ecx
  00122	50		 push	 eax
  00123	56		 push	 esi
  00124	8b 74 24 2c	 mov	 esi, DWORD PTR _this$1$[esp+60]
  00128	8b ce		 mov	 ecx, esi
  0012a	e8 00 00 00 00	 call	 ?PushTCPStateExpanded@CInstanceBase@@QAEXKABUD3DXVECTOR3@@MIII@Z ; CInstanceBase::PushTCPStateExpanded

; 151  : 
; 152  : 	__DisableChangingTCPState();

  0012f	8b ce		 mov	 ecx, esi
  00131	e8 00 00 00 00	 call	 ?__DisableChangingTCPState@CInstanceBase@@IAEXXZ ; CInstanceBase::__DisableChangingTCPState

; 153  : 	rkDstInst.__DisableChangingTCPState();

  00136	8b cb		 mov	 ecx, ebx
  00138	e8 00 00 00 00	 call	 ?__DisableChangingTCPState@CInstanceBase@@IAEXXZ ; CInstanceBase::__DisableChangingTCPState

; 154  : 
; 155  : 	if (__IsMainInstance() || rkDstInst.__IsMainInstance())

  0013d	8b ce		 mov	 ecx, esi
  0013f	e8 00 00 00 00	 call	 ?__IsMainInstance@CInstanceBase@@IAE_NXZ ; CInstanceBase::__IsMainInstance
  00144	84 c0		 test	 al, al
  00146	75 0b		 jne	 SHORT $LN1@ActDualEmo
  00148	8b cb		 mov	 ecx, ebx
  0014a	e8 00 00 00 00	 call	 ?__IsMainInstance@CInstanceBase@@IAE_NXZ ; CInstanceBase::__IsMainInstance
  0014f	84 c0		 test	 al, al
  00151	74 0e		 je	 SHORT $LN2@ActDualEmo
$LN1@ActDualEmo:

; 156  : 	{
; 157  : 		IAbstractPlayer & rPlayer=IAbstractPlayer::GetSingleton();

  00153	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$TAbstractSingleton@VIAbstractPlayer@@@@0PAVIAbstractPlayer@@A ; TAbstractSingleton<IAbstractPlayer>::ms_singleton

; 158  : 		rPlayer.StartEmotionProcess();

  00159	8b 01		 mov	 eax, DWORD PTR [ecx]
  0015b	ff 90 80 00 00
	00		 call	 DWORD PTR [eax+128]
$LN2@ActDualEmo:

; 159  : 	}
; 160  : }

  00161	5f		 pop	 edi
  00162	5e		 pop	 esi
  00163	5b		 pop	 ebx
  00164	8b e5		 mov	 esp, ebp
  00166	5d		 pop	 ebp
  00167	c2 0c 00	 ret	 12			; 0000000cH
?ActDualEmotion@CInstanceBase@@QAEXAAV1@GG@Z ENDP	; CInstanceBase::ActDualEmotion
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\instancebasemotion.cpp
;	COMDAT ?ActEmotion@CInstanceBase@@QAEXK@Z
_TEXT	SEGMENT
_dwMotionNumber$ = 8					; size = 4
?ActEmotion@CInstanceBase@@QAEXK@Z PROC			; CInstanceBase::ActEmotion, COMDAT
; _this$ = ecx

; 163  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 164  : 	PushOnceMotion(dwMotionNumber);

  00003	f3 0f 10 1d 00
	00 00 00	 movss	 xmm3, DWORD PTR __real@3f800000
  0000b	f3 0f 10 15 00
	00 00 00	 movss	 xmm2, DWORD PTR __real@3dcccccd

; 165  : }

  00013	5d		 pop	 ebp

; 164  : 	PushOnceMotion(dwMotionNumber);

  00014	e9 00 00 00 00	 jmp	 ?PushOnceMotion@CInstanceBase@@QAEXGMM@Z ; CInstanceBase::PushOnceMotion
?ActEmotion@CInstanceBase@@QAEXK@Z ENDP			; CInstanceBase::ActEmotion
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\utils.h
;	COMDAT ??$ELPlainCoord_GetRotatedPixelPosition@M@@YAXMMMMPAM0@Z
_TEXT	SEGMENT
_centerY$1$ = -16					; size = 4
_rotRadian$1$ = -12					; size = 4
_centerX$1$ = -8					; size = 4
_distance$1$ = -4					; size = 4
??$ELPlainCoord_GetRotatedPixelPosition@M@@YAXMMMMPAM0@Z PROC ; ELPlainCoord_GetRotatedPixelPosition<float>, COMDAT
; _centerX$ = xmm0s
; _centerY$ = xmm1s
; _distance$ = xmm2s
; _rotDegree$ = xmm3s
; _pdstX$ = ecx
; _pdstY$ = edx

; 94   : {	

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	56		 push	 esi
  00007	f3 0f 11 45 f8	 movss	 DWORD PTR _centerX$1$[ebp], xmm0
  0000c	8b f1		 mov	 esi, ecx
  0000e	57		 push	 edi

; 95   : 	T rotRadian=EL_DegreeToRadian(rotDegree);

  0000f	0f 28 c3	 movaps	 xmm0, xmm3
  00012	f3 0f 11 55 fc	 movss	 DWORD PTR _distance$1$[ebp], xmm2
  00017	8b fa		 mov	 edi, edx
  00019	f3 0f 11 4d f0	 movss	 DWORD PTR _centerY$1$[ebp], xmm1
  0001e	e8 00 00 00 00	 call	 ??$EL_DegreeToRadian@M@@YAMM@Z ; EL_DegreeToRadian<float>
  00023	f3 0f 11 45 f4	 movss	 DWORD PTR _rotRadian$1$[ebp], xmm0

; 96   : 	*pdstX=centerX+distance*T(sin((double)rotRadian));

  00028	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0002c	e8 00 00 00 00	 call	 __libm_sse2_sin_precise
  00031	0f 57 c9	 xorps	 xmm1, xmm1
  00034	f2 0f 5a c8	 cvtsd2ss xmm1, xmm0
  00038	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _rotRadian$1$[ebp]
  0003d	f3 0f 59 4d fc	 mulss	 xmm1, DWORD PTR _distance$1$[ebp]

; 97   : 	*pdstY=centerY+distance*T(cos((double)rotRadian));

  00042	0f 5a c0	 cvtps2pd xmm0, xmm0
  00045	f3 0f 58 4d f8	 addss	 xmm1, DWORD PTR _centerX$1$[ebp]
  0004a	f3 0f 11 0e	 movss	 DWORD PTR [esi], xmm1
  0004e	e8 00 00 00 00	 call	 __libm_sse2_cos_precise
  00053	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00057	f3 0f 59 45 fc	 mulss	 xmm0, DWORD PTR _distance$1$[ebp]
  0005c	f3 0f 58 45 f0	 addss	 xmm0, DWORD PTR _centerY$1$[ebp]
  00061	f3 0f 11 07	 movss	 DWORD PTR [edi], xmm0

; 98   : }

  00065	5f		 pop	 edi
  00066	5e		 pop	 esi
  00067	8b e5		 mov	 esp, ebp
  00069	5d		 pop	 ebp
  0006a	c3		 ret	 0
??$ELPlainCoord_GetRotatedPixelPosition@M@@YAXMMMMPAM0@Z ENDP ; ELPlainCoord_GetRotatedPixelPosition<float>
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\utils.h
;	COMDAT ??$EL_DegreeToRadian@M@@YAMM@Z
_TEXT	SEGMENT
??$EL_DegreeToRadian@M@@YAMM@Z PROC			; EL_DegreeToRadian<float>, COMDAT
; _degree$ = xmm0s

; 88   : 	const T PI = T(3.141592);
; 89   : 	return T(PI*degree/180.0f);

  00000	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40490fd8
  00008	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@43340000

; 90   : }

  00010	c3		 ret	 0
??$EL_DegreeToRadian@M@@YAMM@Z ENDP			; EL_DegreeToRadian<float>
_TEXT	ENDS
END
